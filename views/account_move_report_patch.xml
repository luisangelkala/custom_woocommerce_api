<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Modificar solo el reporte PDF de factura -->
    <template id="report_invoice_document_patch" inherit_id="account.report_invoice_document" priority="100">
        
        <!-- Cambiar título según estado -->
        <xpath expr="//h2/span[@t-if=\"o.move_type == 'out_invoice' and o.state == 'posted'\"]" position="attributes">
            <attribute name="t-if">o.move_type == 'out_invoice' and o.state == 'posted'</attribute>
        </xpath>
        
        <xpath expr="//h2" position="inside">
            <span t-if="o.move_type == 'out_invoice' and o.state == 'draft'">Devis</span>
        </xpath>

        <!-- Traducir encabezados de tabla -->
        <xpath expr="//th[@name='th_description']/span" position="replace">
            <span>Produit</span>
        </xpath>
        
        <xpath expr="//th[@name='th_quantity']/span" position="replace">
            <span>Quantité</span>
        </xpath>
        
        <xpath expr="//th[@name='th_priceunit']/span" position="replace">
            <span>Prix</span>
        </xpath>
        
        <xpath expr="//th[@name='th_discount']/span" position="replace">
            <span>Disc.%</span>
        </xpath>
        
        <xpath expr="//th[@name='th_subtotal']/span[@groups='account.group_show_line_subtotals_tax_excluded']" position="replace">
            <span groups="account.group_show_line_subtotals_tax_excluded">Montant</span>
        </xpath>

    </template>
</odoo>