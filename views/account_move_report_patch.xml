<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="report_invoice_document_patch" inherit_id="account.report_invoice_document" priority="99">
        
        <!-- Cambiar título a "Devis" para borradores -->
        <xpath expr="//h2" position="replace">
            <h2>
                <span t-if="o.move_type == 'out_invoice' and o.state == 'posted'">Facture</span>
                <span t-elif="o.move_type == 'out_invoice'">Devis</span>
                <span t-elif="o.move_type == 'out_refund'">Avoir</span>
                <span t-elif="o.move_type == 'in_refund'">Avoir Fournisseur</span>
                <span t-elif="o.move_type == 'in_invoice'">Facture Fournisseur</span>
            </h2>
        </xpath>

        <!-- Traducir headers de la tabla -->
        <xpath expr="//th[@name='th_description']/span" position="replace">
            <span>Produit</span>
        </xpath>
        
        <xpath expr="//th[@name='th_quantity']/span" position="replace">
            <span>Quantité</span>
        </xpath>
        
        <xpath expr="//th[@name='th_priceunit']/span" position="replace">
            <span>Prix</span>
        </xpath>
        
        <xpath expr="//th[@name='th_discount']/span" position="replace">
            <span>Disc.%</span>
        </xpath>
        
        <xpath expr="//th[@name='th_subtotal']/span[@groups='account.group_show_line_subtotals_tax_excluded']" position="replace">
            <span groups="account.group_show_line_subtotals_tax_excluded">Montant</span>
        </xpath>

    </template>
</odoo>